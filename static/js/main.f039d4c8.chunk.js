(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{197:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"getFilterValue",(function(){return m}));var a=n(1),c=n.n(a),o=n(38),i=n.n(o),s=n(23),l=n(10),d=n(2),u=n(8),b=n(77),p=n.n(b),j=n(9),m=Object(d.b)("filter/get"),x=Object(d.d)("",Object(s.a)({},r.getFilterValue,(function(e,t){return t.payload}))),f=Object(j.b)({filter:x}),h=n(78),g=Object(h.a)({reducerPath:"contactAPI",baseQuery:Object(u.d)({baseUrl:"https://6129dddc068adf001789b947.mockapi.io/api/v1/"}),tagTypes:["Contacts"],endpoints:function(e){return{fetchContacts:e.query({query:function(){return"/contacts"},providesTags:["Contacts"]}),addContact:e.mutation({query:function(e){return{url:"/contacts",method:"POST",body:e}},invalidatesTags:["Contacts"]}),deleteContact:e.mutation({query:function(e){return{url:"/contacts/".concat(e),method:"DELETE"}},invalidatesTags:["Contacts"]})}}}),O=g.useFetchContactsQuery,v=g.useAddContactMutation,y=g.useDeleteContactMutation,w=[].concat(Object(l.a)(Object(d.f)()),[p.a,g.middleware]),k=Object(d.a)({reducer:Object(s.a)({phonebook:f},g.reducerPath,g.reducer),devTools:!1,middleware:w});Object(u.e)(k.dispatch);var C=n(6),X=(n(95),n(7));var z=Object(X.a)("div",{target:"e1tsst6y0"})({name:"1h4bo6o",styles:"display:flex;flex-direction:column;margin:0 auto;padding:30px;background-color:#ffffff;border-radius:5px;width:400px"}),F=n(3),q=function(e){var t=e.children;return Object(F.jsx)(z,{children:t})};var T=Object(X.a)("section",{target:"e13q732h1"})({name:"1i3s0wb",styles:"display:flex;justify-content:center;flex-direction:column;align-items:center;padding-top:30px;padding-bottom:30px"}),A=Object(X.a)("h2",{target:"e13q732h0"})({name:"xo9h60",styles:"display:flex;justify-content:center;align-items:center;margin-left:auto;margin-right:auto;margin-bottom:20px;text-transform:uppercase;font-size:28px;font-weight:700;color:black"}),S=function(e){var t=e.title,n=e.children;return Object(F.jsxs)(T,{children:[Object(F.jsx)(A,{children:t}),n]})},L=n(25),P=n.n(L),E=n(39),M=n(13),V=n(26),D=n(20),J=n(31);n(196);var N=Object(X.a)(D.c,{target:"e1kiavel4"})({name:"1fttcpj",styles:"display:flex;flex-direction:column"}),Q=(Object(X.a)("input",{target:"e1kiavel3"})(""),Object(X.a)("label",{target:"e1kiavel2"})({name:"pr10xp",styles:"margin-bottom:10px"})),R=Object(X.a)("button",{target:"e1kiavel1"})({name:"1rlumv4",styles:"display:inline-flex;justify-content:center;align-items:center;min-width:100px;padding:10px 12px;margin-top:15px;font-size:14px;font-weight:700;color:#fff;background-color:#651fff;border:1px solid transparent;border-radius:5px;cursor:pointer;text-transform:capitalize;&:hover,&:focus{box-shadow:0 0 10px 0 rgba(0, 0, 0, 0.5);}"}),Z=Object(X.a)("div",{target:"e1kiavel0"})({name:"whokns",styles:"font-size:12px;color:purple;margin-top:5px;margin-bottom:5px"}),B=n(15),I=J.object().shape({name:J.string().min(2,"Too Short!").max(50,"Too Long!").required("Required"),number:J.string().phone("+38",!0,"Valid number type +380XXXXXXXXX")});var U=function(){var e=g.endpoints.fetchContacts.useQueryState(null,{}).data,t=v(),n=Object(M.a)(t,1)[0],r=function(){var t=Object(E.a)(P.a.mark((function t(r){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===e||void 0===e?void 0:e.some((function(e){return e.name===r.name})))){t.next=3;break}return B.b.error("Contact ".concat(r.name," already exists")),t.abrupt("return");case 3:return t.prev=3,t.next=6,n(r);case 6:B.b.success("Contact ".concat(r.name," created")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),B.b.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}(),a=Object(V.a)(3),c=Object(V.a)(3);return Object(F.jsx)(D.d,{initialValues:{name:"",number:""},validationSchema:I,onSubmit:function(e,t){var n=t.resetForm,a=e.name,c=e.number;r({name:a,number:c}),n()},children:Object(F.jsxs)(N,{children:[Object(F.jsx)(Q,{htmlFor:"id-".concat(a),children:"Name"}),Object(F.jsx)(D.b,{id:"id-".concat(a),type:"text",name:"name",placeholder:"Name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f."}),Object(F.jsx)(D.a,{name:"name",component:Z}),Object(F.jsx)(Q,{htmlFor:"id-".concat(c),children:"Number"}),Object(F.jsx)(D.b,{id:"id-".concat(c),type:"tel",name:"number",placeholder:"+38 XXX XXX XX XX",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0438\u0437 \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043a\u0440\u0443\u0433\u043b\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +"}),Object(F.jsx)(D.a,{name:"number",component:Z}),Object(F.jsx)(R,{type:"submit",children:"Add contact"})]})})};var $=Object(X.a)("ul",{target:"e3ypohe2"})({name:"iqoq9n",styles:"margin-top:20px"}),G=Object(X.a)("li",{target:"e3ypohe1"})({name:"ssjh7w",styles:"display:flex;justify-content:space-between;align-items:center;width:300px;padding:10px;overflow:hidden;border-radius:5px;&:not(:last-child){margin-bottom:10px;}& span{}& svg{margin-right:5px;}& div{display:flex;flex-direction:column;}"}),H=Object(X.a)("button",{target:"e3ypohe0"})({name:"15sbhep",styles:"display:inline-flex;justify-content:center;align-items:center;min-width:100px;padding:10px;margin-left:10px;margin-right:10px;font-size:14px;font-weight:700;color:#fff;background-color:red;border:1px solid transparent;border-radius:5px;cursor:pointer;text-transform:capitalize;&:hover,&:focus{box-shadow:0 0 10px 0 rgba(0, 0, 0, 0.5);}"}),K=n(84),W=n(85),Y=function(e){return e.phonebook.filter};var _=function(){var e=Object(C.e)(Y),t=function(e,t){var n=e.toLowerCase();return null===t||void 0===t?void 0:t.filter((function(e){var t=e.name,r=e.number;return t.toLowerCase().includes(n)||r.includes(n)})).sort((function(e,t){return e.name.localeCompare(t.name)}))},n=O(null,{refetchOnReconnect:!0,selectFromResult:function(n){var r=n.data;return{contacts:t(e,r)}}}),r=n.contacts,a=n.isFetching,c=y(),o=Object(M.a)(c,1)[0],i=function(){var e=Object(E.a)(P.a.mark((function e(t,n){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o(t);case 3:B.b.success("Contact ".concat(n," deleted")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),B.b.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(F.jsxs)($,{children:[a&&Object(F.jsx)("div",{children:"Loading..."}),r&&r.map((function(e){var t=e.id,n=e.name,r=e.number;return Object(F.jsxs)(G,{children:[Object(F.jsxs)("div",{children:[Object(F.jsxs)("span",{children:[Object(F.jsx)(K.a,{size:14,color:"steelblue"}),n,":"]}),Object(F.jsxs)("span",{children:[Object(F.jsx)(W.a,{size:14,color:"steelblue"}),r]})]}),Object(F.jsx)(H,{type:"button",onClick:function(){return i(t,n)},children:"Delete"})]},t)}))]})};var ee=Object(X.a)("label",{target:"e1wl1lmb1"})({name:"gvjivb",styles:"margin-bottom:10px;font-size:18px;font-weight:500"}),te=Object(X.a)("input",{target:"e1wl1lmb0"})(""),ne=function(){var e=Object(C.e)(Y),t=Object(C.d)();return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(ee,{htmlFor:"id-".concat(Object(V.a)(3)),children:"Find contacts by name"}),Object(F.jsx)(te,{id:"id-".concat(Object(V.a)(3)),type:"text",name:"name",value:e,onChange:function(e){return t(m(e.target.value))},placeholder:"Search"})]})};var re=function(){return Object(F.jsx)(B.a,{duration:"5000",position:"top-right",containerStyle:{top:100},toastOptions:{style:{border:"1px solid darksteelblue",padding:"12px",color:"darksteelblue"}}})};var ae=function(){return Object(F.jsxs)(q,{children:[Object(F.jsx)(S,{title:"Phonebook",children:Object(F.jsx)(U,{})}),Object(F.jsxs)(S,{title:"Contacts",children:[Object(F.jsx)(ne,{}),Object(F.jsx)(_,{})]}),Object(F.jsx)(re,{})]})};i.a.render(Object(F.jsx)(c.a.StrictMode,{children:Object(F.jsx)(C.a,{store:k,children:Object(F.jsx)(ae,{})})}),document.getElementById("root"))},95:function(e,t,n){}},[[197,1,2]]]);
//# sourceMappingURL=main.f039d4c8.chunk.js.map